\documentclass{article}

\usepackage[a4paper, total={6.5in, 11in}]{geometry}
\setlength{\parindent}{0em}


\usepackage{latex/common}

\newcommand{\under}[2]{\mathop{#1}\limits_{#2}}
\newcommand{\s}{\sum\limits_{i=1}^{n}}
\newcommand{\p}[2]{\frac{\partial #1}{\partial #2}}
\newcommand{\pp}[3]{\frac{{\partial}^2 #1}{\partial #2 \partial #3}}
\newcommand{\B}[1]{\left\{\begin{aligned}#1\end{aligned}\right.}
\newcommand{\E}{\mathrm{E}}
\newcommand{\V}{\mathrm{V}}

\begin{document}

\section{P1 and P2}

Assume $J(w) = \frac{1}{n} \s ln(1+exp(-y_i w^T x_i)) + \lambda w^Tw$

\newcommand{\e}{exp(-y_i w^T x_i)}
\newcommand{\ee}{exp(-2y_i w^T x_i)}

$
\begin{aligned}
  \p{J(w)}{w}         &= \frac{1}{n} \s \frac{\e}{1+\e} (-y_ix_i) + 2\lambda w \\
                      &= \frac{1}{n} \s (1-P(y_i|w,x_i))(-y_ix_i) + 2\lambda w \\
  H = \pp{J(w)}{w}{w} &= \p{}{w} \frac{1}{n} \s (1-P(y_i|w,x_i))(-y_ix_i) + 2\lambda w \\
                      &= \frac{1}{n} \s -\p{}{w}(P(y_i|w,x_i))(-y_ix_i) + 2\lambda \\
                      &= \frac{1}{n} \s -P(y_i|w,x_i)(1-P(y_i|w,x_i)) \p{}{w}(-y_iw^Tx_i)(-y_ix_i) + 2\lambda \\
                      &= \frac{1}{n} \s -P(y_i|w,x_i)(1-P(y_i|w,x_i)) (-y_ix_i)(-y_ix_i) + 2\lambda \\
                      &= \frac{1}{n} \s -P(y_i|w,x_i)(1-P(y_i|w,x_i)) (y_ix_i)^2 + 2\lambda \\
\end{aligned}
$

\section{P3}

\lstset{language=Python,
        basicstyle=\ttfamily\tiny,
        keywordstyle=\color{blue}\ttfamily,
        commentstyle=\color{green}\ttfamily}

\lstinputlisting{titech/ART.T458.AdvancedMachineLearning/HW3/h3.py}

\end{document}
